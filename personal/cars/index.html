<canvas id="myCanvas" width="200" height="400" style="background:#bbb;"></canvas>
<script>
    const canvas = document.getElementById("myCanvas");
    const ctx = canvas.getContext("2d");

    // Our car object
    const car = {
        x: 100, y: 300, w: 30, h: 50, speed: 1,
        sensorLength: 100, reading: null
    };

    // A simple wall
    const wallY = 100;

    function animate() {
        canvas.height = 400; // Clears the screen
        
        // 1. Move the car
        car.y -= car.speed;

        // 2. Logic (Step 2 goes here)
        // Raycasting: The sensor starts at car center and goes forward
        const sensorEnd = car.y - car.sensorLength;

        // Check for collision: Is the wall between the car and the sensor tip?
        if (wallY < car.y && wallY > sensorEnd) {
            car.reading = wallY; // We "see" the wall!
        } else {
            car.reading = null;
        }

        // Visualize the Sensor
        ctx.beginPath();
        ctx.lineWidth = 2;
        // If we see something, turn sensor yellow, otherwise green
        ctx.strokeStyle = car.reading ? "yellow" : "lightgreen";
        ctx.moveTo(car.x, car.y);
        ctx.lineTo(car.x, sensorEnd);
        ctx.stroke();

        // Control: If sensor detects something, stop!
        if (car.reading) {
            car.speed = 0;
            console.log("Collision Imminent: Emergency Braking Activated");
        }

        // 3. Draw Wall
        ctx.strokeStyle = "red";
        ctx.strokeRect(0, wallY, 200, 2);

        // 4. Draw Car
        ctx.fillStyle = "blue";
        ctx.fillRect(car.x - car.w/2, car.y - car.h/2, car.w, car.h);

        requestAnimationFrame(animate);
    }
    animate();
</script>